[[snippets]]
  description = "Get the TLS certificate from a server"
  command = "openssl s_client -showcerts -servername <server_fqdn> -connect <server_fqdn>:443 </dev/null"
  output = ""

[[snippets]]
  description = "Sort installed RPMs by size"
  command = "rpm -qa --queryformat '%{size} %{name}\\n' | sort -rn"
  output = ""

[[snippets]]
  description = "List Kubernetes events sorted by time"
  command = "oc get events --sort-by metadata.creationTimestamp"
  output = ""

[[snippets]]
  description = "Fix file names"
  command = "find . -maxdepth 1 -type f | while read F; do F2=$(echo $F | tr -d ',' | tr -d \"'\" | tr ' ' '.'); echo $F2; mv \"$F\" \"$F2\"; done"
  output = ""

[[snippets]]
  description = "Remove terminal color sequences from the log file, https://superuser.com/a/380778"
  command = "sed 's/\\x1b\\[[0-9;]*m//g'"
  output = ""

[[snippets]]
  description = "Removes all \"leaf\" packages from the system that were originally installed as dependencies of user-installed packages, but which are no longer required by any such package"
  command = "dnf autoremove"
  output = ""

[[snippets]]
  description = "Watch Kubernetes events in all namespaces"
  command = "oc get events --all-namespaces --sort-by metadata.creationTimestamp --watch"
  output = ""

[[snippets]]
  description = "Register the system to the Red Hat Customer Portal and attach subscriptions"
  command = "subscription-manager register && subscription-manager attach --pool 8a85f98460bfb0470160c2ff22f13e47"
  output = ""

[[snippets]]
  description = "Red Hat VPN"
  command = "sudo openvpn --config /etc/openvpn/client/ovpn-rdu2-tcp.conf"
  output = ""

[[snippets]]
  description = "Flush firewall rules"
  command = "sudo nft flush ruleset"
  output = ""

[[snippets]]
  description = "Get all Kubernetes resources"
  command = "kubectl api-resources --verbs=list --namespaced -o name | grep -v events.events.k8s.io | grep -v events | xargs -n 1 kubectl get --show-kind --ignore-not-found"
  output = ""

[[snippets]]
  description = "Log in to the OpenShift integrated registry"
  command = "podman login -u xyz -p $(oc whoami -t) default-route-openshift-image-registry.apps.mycluster.example.com"
  output = ""
